# Flight Software for Crater Maker Special

## Overview
 - MCU: RP2040
 - RTOS: None
 - HAL: pico-sdk

## Filesystem Hirearchy
```
PSPL_CMS_Avionics_Code/
├── README.md <- This file
├── src/ <- contains main programs for each board
│   └── emu/ <- Main program folder for the EMU
│       ├── main.c <- Contains the entrypoint
│       └── example.c <- auxillary functions, doesn't actually exist
├── lib/ <- common libraries shared by all boards
│   └── example/ <- example library
│       ├── example.c
│       └── example.h
├── pico-sdk/ <- Git submodule containing the RP2040's SDK
├── build/ <- not uploaded to the repo, contains compilation outputs
│   └── uf2/ <- contains the files to be uploaded to the boards
├── .clang-format <- file containing autoformatter rules
├── .gitignore <- file containing things to not be uploaded to GitHub(e.g., exe's, build folder)
├── .gitmodules <- don't edit this file, contains submodule definitions
├── Doxyfile <- Doxygen Documentation Generator Configs, mostly autogenerated
├── CMakeLists.txt <- Main build script
└── Makefile <- Helper scripts to run CMake, used through `make`
```

## Usage
### Dependencies
 - `cmake`
 - `make`
 - `gcc-arm-none-eabi`
 - `newlib-arm-none-eabi`
 - `git`

### Cloning this Repo
This repo uses Git submodules, so you need to clone it with the `--recursive` flag.
```
git clone --recurse-submodules https://url/to/repo
```

If you already cloned the repo, you can run `git submodule update --init --recursive` to get the submodules.

### Working on a project
All Setup and Development Operations information is on Confluence.

## Building
Run `make build` for a debug build, or `make release` for a release build.
`make clean` will delete the build folder.

Output binaries for each board will be present in `build/uf2`